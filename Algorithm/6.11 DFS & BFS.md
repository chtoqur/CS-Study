# DFS & BFS

## π“ λ‚΄μ© μ •λ¦¬

### κΉμ΄ μ°μ„  νƒμƒ‰ (DFS, Depth First Search)

π’΅ `κΉμ΄ μ°μ„  νƒμƒ‰` μ΄λ€?

> λ£¨νΈ λ…Έλ“(νΉμ€ λ‹¤λ¥Έ μ„μμ λ…Έλ“)μ—μ„ νƒμƒ‰μ„ μ‹μ‘ν•μ—¬ λ‹¤μ λ¶„κΈ°(branch)λ΅ λ„μ–΄κ°€κΈ° μ „μ— **ν•΄λ‹Ή λ¶„κΈ°λ¥Ό
> μ™„λ²½ν•κ² νƒμƒ‰**ν•λ” λ°©μ‹

![](https://velog.velcdn.com/images/chtoqur/post/ea368366-b338-4774-b73b-b4b2ae5796f6/image.gif)

- λ¨λ“  λ…Έλ“λ¥Ό λ°©λ¬Έν•κ³ μ ν•λ” κ²½μ° μ„ νƒν•λ” λ°©μ‹
- μ¤νƒ λλ” μ¬κ·€ν•¨μλ΅ κµ¬ν„

### DFS μ¥μ 

- ν„ κ²½λ΅μƒμ λ…Έλ“λ§ κΈ°μ–µν•λ©΄ λλ―€λ΅ μ €μ¥κ³µκ°„ μμ”κ°€ λΉ„κµμ  μ μ€νΈ
- λ©ν‘ λ…Έλ“κ°€ κΉμ€ λ‹¨κ³„μ— μμ„ κ²½μ° λΉ λ¥Έ μ‹κ°„ λ‚΄μ— ν•΄λ¥Ό κµ¬ν•  μ μμ

### DFS λ‹¨μ 

- ν•΄κ°€ μ—†λ” κ²½λ΅μ κΉμ΄κ°€ κΉμ„ κ²½μ° νƒμƒ‰ μ‹κ°„μ΄ μ¤λ κ±Έλ¦΄ μ μμ
- μ–»μ–΄μ§„ ν•΄κ°€ μµλ‹¨ κ²½λ΅κ°€ λλ‹¤λ” λ³΄μ¥μ΄ μ—†μ
- κΉμ΄κ°€ λ¬΄ν•ν κΉμ–΄μ§ κ²½μ° μ¤νƒ μ¤λ²„ ν”λ΅μ°κ°€ λ°μƒν•  μ„ν—μ΄ μμ

### λ„λΉ„ μ°μ„  νƒμƒ‰ (BFS, Breadth First Search)

π’΅ `λ„λΉ„ μ°μ„  νƒμƒ‰` μ΄λ€?

> λ£¨νΈ λ…Έλ“(νΉμ€ λ‹¤λ¥Έ μ„μμ λ…Έλ“)μ—μ„ νƒμƒ‰μ„ μ‹μ‘ν•μ—¬ **μΈμ ‘ν• λ…Έλ“λ¥Ό λ¨Όμ € νƒμƒ‰**ν•λ” λ°©λ²•

![](https://velog.velcdn.com/images/chtoqur/post/21a803ea-6b0a-4c21-8926-647e50bb7bd7/image.gif)

- λ‘ λ…Έλ“ κ°„ μµλ‹¨ κ²½λ΅λ¥Ό μ°Ύκ³  μ‹¶μ„ λ• μ„ νƒν•λ” λ°©μ‹
- νλ¥Ό μ΄μ©ν•μ—¬ κµ¬ν„

### BFS μ¥μ 

- λ‹µμ΄ λλ” κ²½λ΅κ°€ μ—¬λ¬ κ°μΈ κ²½μ°μ—λ„ μµλ‹¨ κ²½λ΅λ¥Ό μ–»μ„ μ μμ
- κ²½λ΅κ°€ λ¬΄ν•ν κΉμ–΄μ Έλ„ μµλ‹¨ κ²½λ΅λ¥Ό λ°λ“μ‹ μ°Ύμ„ μ μμ

### BFS λ‹¨μ 

- νλ¥Ό ν†µν•΄ λ‹¤μ νƒμƒ‰ν•  μ •μ λ“¤μ„ μ €μ¥ν•λ―€λ΅ λ” ν° μ €μ¥κ³µκ°„μ΄ ν•„μ”ν•¨

### κµ¬ν„

#### DFS (μΈμ ‘ λ¦¬μ¤νΈ)

```
/* μΈμ ‘ λ¦¬μ¤νΈ μ΄μ© */
class Graph {
  private int V;
  private LinkedList<Integer> adj[];

  Graph(int v) {
      V = v;
      adj = new LinkedList[v];
      // μΈμ ‘ λ¦¬μ¤νΈ μ΄κΈ°ν™”
      for (int i=0; i<v; ++i)
          adj[i] = new LinkedList();
  }
  void addEdge(int v, int w) { adj[v].add(w); }

  /* DFS */
  void DFS(int v) {
      boolean visited[] = new boolean[V];

      // vλ¥Ό μ‹μ‘ λ…Έλ“λ΅ DFSUtil μ¬κ·€ νΈμ¶
      DFSUtil(v, visited);
  }

  /* DFSμ— μν•΄ μ‚¬μ©λλ” ν•¨μ */
  void DFSUtil(int v, boolean visited[]) {
      // ν„μ¬ λ…Έλ“λ¥Ό λ°©λ¬Έν• κ²ƒμΌλ΅ ν‘μ‹ν•κ³  κ°’μ„ μ¶λ ¥
      visited[v] = true;
      System.out.print(v + " ");

      // λ°©λ¬Έν• λ…Έλ“μ™€ μΈμ ‘ν• λ¨λ“  λ…Έλ“λ¥Ό κ°€μ Έμ¨λ‹¤.
      Iterator<Integer> it = adj[v].listIterator();
      while (it.hasNext()) {
          int n = it.next();
          // λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“λ©΄ ν•΄λ‹Ή λ…Έλ“λ¥Ό μ‹μ‘ λ…Έλ“λ΅ λ‹¤μ‹ DFSUtil νΈμ¶
          if (!visited[n])
              DFSUtil(n, visited);
      }
  }

}
```

#### BFS (μΈμ ‘ λ¦¬μ¤νΈ)

```
class Graph {
  private int V;
  private LinkedList<Integer> adj[];

  Graph(int v) {
    V = v;
    adj = new LinkedList[v];
    for (int i=0; i<v; ++i)
      adj[i] = new LinkedList();
  }

  void addEdge(int v, int w) { adj[v].add(w); }

  /* BFS */
  void BFS(int s) {
    boolean visited[] = new boolean[V]; // λ°©λ¬Έμ—¬λ¶€ ν™•μΈμ© λ³€μ
    LinkedList<Integer> queue = new LinkedList<Integer>(); // μ—°κ²°λ¦¬μ¤νΈ μƒμ„±

    visited[s] = true;
    queue.add(s);

    while (queue.size() != 0) {
      // λ°©λ¬Έν• λ…Έλ“λ¥Ό νμ—μ„ μ¶”μ¶(dequeue)ν•κ³  κ°’μ„ μ¶λ ¥
      s = queue.poll();
      System.out.print(s + " ");

      // λ°©λ¬Έν• λ…Έλ“μ™€ μΈμ ‘ν• λ¨λ“  λ…Έλ“λ¥Ό κ°€μ Έμ¨λ‹¤.
      Iterator<Integer> i = adj[s].listIterator();
      while (i.hasNext()) {
        int n = i.next();

        // λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“λ©΄ λ°©λ¬Έν• κ²ƒμΌλ΅ ν‘μ‹ν•κ³  νμ— μ‚½μ…(enqueue)
        if (!visited[n]) {
          visited[n] = true;
          queue.add(n);
        }
      }
    }
  }
}
```

### μ‹κ°„ λ³µμ΅λ„

|             | DFS    | BFS    |
| ----------- | ------ | ------ |
| μΈμ ‘ ν–‰λ ¬   | O(N^2) | O(N^2) |
| μΈμ ‘ λ¦¬μ¤νΈ | O(N+E) | O(N+E) |

π‘‰ N = μ •μ μ μ, E = κ°„μ„ (λ…Έλ“)μ μ
