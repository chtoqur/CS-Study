# 프록시 패턴과 프록시 서버

## 📌 면접 예상 질문

<details>
  <summary><strong>Q1. 프록시 패턴이란 무엇이며, 어떤 경우에 사용하는지 설명해주세요.</strong></summary>
  <br />
 <p>프록시 패턴(Proxy Pattern)은 실제 객체에 접근하기 전에 중간에서 흐름을 제어하는 디자인 패턴입니다. 전처리 및 후처리 사용에 용이하고, 특정 메서드에 대한 보안이 좋다는 특징이 좋다는 이유로 사용됩니다.</p> 
  
  <p>주로 접근 제어, 지연 초기화, 로깅, 원격 접근, 캐싱 등에서 사용되며, 특정 객체에 대한 접근을 제어하거나 객체 생성과 접근을 최적화할 수 있습니다.</p> 
</details>

<details>
  <summary><strong>Q2. 프록시 서버의 역할과 주요 기능에는 무엇이 있나요?</strong></summary>
  <br />
  <p>프록시 서버는 클라이언트와 서버 사이에서 중개자 역할을 하며, 보안 강화, 성능 향상, 접근 제어 등의 기능을 제공합니다. 보안을 위해 서버의 실제 IP를 감추거나, 캐싱을 이용해 트래픽을 줄여 속도를 높일 수 있습니다. 또한, 특정 웹사이트 접근을 차단하거나, 로깅 기능을 통해 사용자 활동을 기록하는 용도로도 활용됩니다.</p>

</details>

<details>
  <summary><strong>Q3. CORS는 무엇이고, CORS 에러를 방지하려면 어떻게 해야하나요?</strong></summary>
  <br />
  <p>CORS는 Cross Origin Resource Sharing의 줄임말로, 웹 브라우저에서 다른 도메인의 리소스를 불러오는 것을 차단하는 HTTP 헤더 기반의 보안 정책입니다.</p>
  
  <p>CORS에 의해 요청이 차단되지 않으려면 도메인, 하위도메인, 포트, 프로토콜이 모두 동일해야 하거나 프론트엔드에서 프록시 서버를 만들어 오리진을 변경하여 요청하는 방법이 있습니다. 백엔드에서는 express의 CORS 미들웨어 라이브러리를 사용하거나, 응답 헤더의 Access-Control-Allow-Origin에 허용하고자 하는 도메인을 세팅하는 방법 등이 있습니다.</p>
</details>

---

## 📌 내용 정리

### 1. 프록시 패턴

💡 `프록시 패턴(proxy pattern)` 이란?

- 대상 객체(subject)에 접근하기 전 그 접근에 대한 흐름을 가로채 대상 객체 앞단의 인터페이스 역할을 수행하는 디자인 패턴
- 이를 통해 객체의 속성, 변환 등을 보완
- 보안, 데이터 검증, 캐싱, 로깅에 사용되며 프록시 객체나 프록시 서버로 활용됨

🔗 프록시 서버에서의 `캐싱`

캐시 안에 정보를 담아두고, 캐시 안에 있는 정보를 요구하는 요청에 대해 다시 원격 서버에 요청하지 않고 캐시 내부에 있는 데이터를 활용하는 것. 불필요한 외부와의 연결을 줄여 트래픽을 감소시킬 수 있음

### 2. 프록시 서버

💡 `프록시 서버(proxy server)` 란?

- 서버와 클라이언트 사이에서 중간 매개체 역할을 하며, 클라이언트가 간접적으로 다른 네트워크 서비스에 접근하도록 도와주는 시스템 또는 응용 프로그램

👉 프록시 서버의 기능

- 보안 강화 : 서버의 실제 주소(IP)를 숨김
- 속도 향상 : 캐싱을 통해 트래픽 감소
- 접근 제어 : 특정 사이트 차단 가능
- 로깅 기능 : 요청 기록 관리

### 2.1 프록시 서버 - Nginx

💡 `Nginx` 란?

- 비동기 이벤트 기반의 구조를 가지며, 다수의 연결을 효과적으로 처리할 수 있는 웹 서버
- 주로 (Node.js의 버퍼 오버플로우 취약점을 예방하기 위해) 서버 앞단의 프록시 서버로 활용됨

🔗 `버퍼 오버플로우`

버퍼는 보통 데이터가 저장되는 메모리 공간으로, 메모리 공간을 벗어나는 경우

### 2.2 프록시 서버 - CloudFlare

💡 `CloudFlare` 란?

- 전 세계적으로 분산된 서버를 통해 콘텐츠를 빠르게 전달하는 **CDN(Content Delivery Network)** 서비스
- 웹 서버 앞단에서 프록시 서버로 활용
- DDOS 공격 방어, HTTPS 구축 등의 장점

🔗 `DDOS 공격 방어`

DDOS는 짧은 기간 동안 네트워크에 많은 요청을 보내 네트워크를 마비시켜 웹 사이트의 가용성을 방해하는 사이버 공격 유형. CloudFlare는 의심스러운 트래픽, 특히 사용자가 접속하는 것이 아닌 시스템을 통해 오는 트래픽을 자동으로 차단하여 DDOS 공격으로부터 보호함

🔗 `CDN(Content Delivery Network)`

사용자와 가까운 서버에서 콘텐츠를 캐싱 또는 배포하는 서버 네트워크. 이를 통해 응답 속도를 향상시킬 수 있음

### 3. CORS와 프론트엔드의 프록시 서버

💡 `CORS(Cross-Origin Resource Sharing)` 란?

- 웹 브라우저에서 다른 도메인의 리소스를 불러오는 것을 차단하는 HTTP 헤더 기반의 보안 정책

👉 CORS 문제 해결을 위한 프록시 서버 활용

- 프론트엔드 서버에서 백엔드 API 요청 시, 프록시 서버를 통해 오리진(origin)을 변경하여 요청
- ex. 프론트엔드: 127.0.0.1:3000, 백엔드: 127.0.0.1:12010 일 때, 프록시 서버를 두어 프론트엔드 요청을 127.0.0.1:12010으로 변경

🔗 `오리진(Origin)`

프로토콜 + 호스트 이름 + 포트 조합
예: https://kundol.com:12010 |
